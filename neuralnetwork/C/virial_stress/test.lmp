# Initialize interatomic potential (KIM model) and units
atom_style	atomic
kim init	DUNN_best_train metal
# boundary conditions
boundary	p p p
# create a honeycomb lattice
variable	a equal 2.466
variable	sqrt3 equal sqrt(3.0)
variable	b equal $a/${sqrt3}
variable	sc equal 3.0*$b  # Lattice scale
variable	hsc equal 20/${sc}  # Scaled van der Waals thickness
variable	asc equal $a/${sc}  # Scaled a
lattice		custom ${sc} &
			a1 1.0 0.0 0.0 &
			a2 0.0 ${asc} 0.0 &
			a3 0.0 0.0 ${hsc} &
			basis 0.0 0.0 0.0 &
			basis $(1.0/3.0) 0.0 0.0 &
			basis 0.5 0.5 0.0 &
			basis $(5.0/6.0) 0.5 0.0
# create simulation box and atoms
region		box block 0 4 0 6 0 1 units lattice
create_box	1 box
create_atoms	1 box
mass		1 12
# specify atom type to chemical species mapping for the KIM model
kim		interactions C
kim		param set active_member_id 1 0

# # compute energy
# run		0
# variable	natoms equal "count(all)"
# variable	E_mean equal pe/${natoms}
# print		"${natoms}"
# print		"${E_mean}"

# Equilibrate for 10_000 time steps
variable	temp equal 300.0
fix		mynve all nve
fix		mylgv all langevin ${temp} ${temp} 0.1 1530917

thermo		100
thermo_style	custom step temp etotal press lx ly lz
run		10000

# Start recording the data
dump		mydump all custom 10 "dump/virial_*.dump" id type x y z fx fy fz
dump_modify	mydump format float %.16f
# Using this dump format, I can use ase.io.read to read the file and get all the
# information I need, including the atomic positions and forces.

# MD
reset_timestep	0
run		10000

undump		mydump
